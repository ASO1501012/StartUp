(function(){Ext.define("Forte.Widgets.Button.Highlight",{extend:"Ext.button.Button",alias:"widget.widgets.button.highlight",cls:"x-btn-default-highlight",overCls:"default-highlight-over",focusCls:"default-highlight-focus",pressedCls:"default-highlight-pressed",disabledCls:"x-btn-default-highlight-disabled",initComponent:function(){this.callParent()}});Ext.define("Forte.Widgets.MenuItem.ShortCut",{extend:"Ext.menu.Item",alias:"widget.widgets.menuitem.shortcut",sctext:"",onRender:function(a,c){var b=
Ext.BLANK_IMAGE_URL;Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||b,iconCls:this.iconCls+(this.checkChangeDisabled?" "+this.disabledCls:""),sctext:this.sctext||"",menu:Ext.isDefined(this.menu),plain:this.plain,text:this.text,blank:b});this.callParent(arguments)},renderTpl:['<tpl if="plain">',"{text}","</tpl>",'<tpl if="!plain">','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">',
'<span id="{id}-textscEl" class="'+Ext.baseCSSPrefix+'menu-item-sctext" align="right" >{sctext}</span>','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="menu">style="margin-right: 17px;"</tpl> >{text}</span>','<tpl if="menu">','<img id="{id}-arrowEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-arrow" />',"</tpl>","</a>","</tpl>"]});Ext.define("Forte.Widgets.MenuItem.ShortCutCheck",
{extend:"Ext.menu.CheckItem",alias:"widget.widgets.menuitem.shortcutcheck",sctext:"",onRender:function(a,c){var b=Ext.BLANK_IMAGE_URL;Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||b,iconCls:this.iconCls+(this.checkChangeDisabled?" "+this.disabledCls:""),sctext:this.sctext||"",menu:Ext.isDefined(this.menu),plain:this.plain,text:this.text,blank:b});this.callParent(arguments)},renderTpl:['<tpl if="plain">',"{text}","</tpl>",'<tpl if="!plain">','<a id="{id}-itemEl" class="'+
Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<span id="{id}-textscEl" class="'+Ext.baseCSSPrefix+'menu-item-sctext" align="right" >{sctext}</span>','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="menu">style="margin-right: 17px;"</tpl> >{text}</span>','<tpl if="menu">','<img id="{id}-arrowEl" src="{blank}" class="'+
Ext.baseCSSPrefix+'menu-item-arrow" />',"</tpl>","</a>","</tpl>"]});Ext.define("Forte.Widgets.MenuItem.Icon",{extend:"Ext.menu.Item",alias:"widget.widgets.menuitem.icon",onRender:function(a,c){var b=Ext.BLANK_IMAGE_URL;Ext.applyIf(this.renderData,{href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||b,iconRight:this.iconRight||b,iconCls:this.iconCls+(this.checkChangeDisabled?" "+this.disabledCls:""),menu:Ext.isDefined(this.menu),plain:this.plain,text:this.text,blank:b});this.callParent(arguments)},
renderTpl:['<tpl if="plain">',"{text}","</tpl>",'<tpl if="!plain">','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on">','<img id="{id}-iconrEl" src="{iconRight}" class="'+Ext.baseCSSPrefix+'menu-item-iconr {iconCls}" />','<img id="{id}-iconEl" src="{icon}" class="'+Ext.baseCSSPrefix+'menu-item-icon {iconCls}" />','<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" <tpl if="menu">style="margin-right: 17px;"</tpl> >{text}</span>',
'<tpl if="menu">','<img id="{id}-arrowEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-arrow" />',"</tpl>","</a>","</tpl>"]});Ext.define("Forte.Widgets.Feedback.Panel",{extend:"Cell.window.LightWindow",id:"component:feedbackbox",title:Forte.Resources.Text.WIDGETS_FEEDBACK_TITLE,closable:!0,closeAction:"hide",singleton:!0,modal:!0,width:720,height:620,margin:"0",padding:"0",resizable:!1,items:[{xtype:"panel",html:'<iframe class="framecontent" src="https://monaca.mobi/feedback/send" style="width:100%;height:574px"></iframe>'}],
showFeedbackBox:function(){this.show()}});Ext.define("Forte.Widgets.IframeWindow",{extend:"Cell.window.LightWindow",alias:"widget.widgets.iframewindow",title:Forte.Resources.Text.GENERAL_EXPORT,closable:!0,modal:!1,width:720,height:620,layout:"fit",resizable:!1,src:"",items:[{xtype:"component",itemId:"content",html:""}],listeners:{show:function(){var a=[this.width-80,this.height-80];this.getComponent("content").update("<iframe src='"+this.src+"' width='"+a[0]+"' height='"+a[1]+"'></iframe>")}}});
Ext.define("Forte.Widgets.CreditWindow",{extend:"Cell.window.LightWindow",alias:"widget.widgets.credit",singleton:!0,initComponent:function(){var a=this;Ext.apply(this,{id:"component:creditwindow",title:Forte.Resources.Text.WIDGETS_ABOUT_TITLE,width:500,height:200,closeAction:"hide",modal:!0,defaults:{border:!1},closable:!0,floating:!0,resizable:!1,items:[{xtype:"panel",bodyStyle:"text-align : center;margin: 20px 0;",height:81,html:'<img src="/img/logo/monaca_logo2.png" width="140" height="41"/>'},
{xtype:"panel",bodyStyle:"text-align : center;",html:"<p>&copy 2011-2016 Asial Corporation. All rights reserved.</p><br /><p>Distributed under GPLv3 license. <a href='https://monaca.io/license.html' target='_blank'>More information</a>.</p><br />"},{xtype:"cell.button",style:"margin-top : 10px; position : relative",text:"OK",ui:"light",width:100,x:162,handler:function(){a.hide()}}]});this.callParent()},showWindow:function(){this.show()}});MessageHub.subscribe(Message.ShowCreditWindow,function(){Forte.Widgets.CreditWindow.show()});
Ext.define("Forte.Widgets.EditorToolbar",{extend:"Ext.panel.Panel",alias:"widget.widgets.editortoolbar",layout:"hbox",shortcutWidget:null,helpPanel:null,items:[{xtype:"button",icon:"/img/new_ide/main/editor_toolbar_help_icon.png",margin:"0 1 0 0",handler:function(){window.open(Forte.Resources.DocumentURL.TOP)}},{xtype:"button",cls:"cell-btn-detail",icon:"/img/new_ide/main/editor_toolbar_settings_icon.png",margin:"0 1 0 0",menu:Ext.create("Cell.menu.ContextMenu",{items:[{xtype:"menuitem",text:Forte.Resources.Text.MAIN_TOOLBAR_SETTINGS_VIEW_OLDER,
handler:function(){var a=Ext.getCmp("component:mainpanel").getActiveTab();MessageHub.send(new Message.MainPanel.OpenHistoryTab({path:a.filepath,mime:a.mime}))}},{xtype:"menuitem",text:Forte.Resources.Text.HEADER_BUTTON_FILE_PREFERENCES,handler:function(){MessageHub.send(new Message.MainPanel.OpenEnvironmentTab({component:(new Forte.EnvironmentSettingControl).getSettingPanel(),tabId:"monaca:environment"}))}},{xtype:"menuitem",text:Forte.Resources.Text.MAIN_TOOLBAR_SETTINGS_EDITOR_SHORTCUTS,handler:function(){Ext.widget("widgets.editorshortcuts",
{})}}]})},{xtype:"cell.searchinput",itemId:"search-cont",allowBlank:!0,width:112,listeners:{specialkey:function(a,c){if(c.getKey()!=c.ENTER)c.getKey()==c.ESC&&Message.MainPanel.FocusEditor.send();else{var b=a.getValue();c.shiftKey?(new Message.MainPanel.SearchActiveTab(b,!0)).send():(new Message.MainPanel.SearchActiveTab(b)).send()}}}}],listeners:{afterrender:function(){var a=this,c=$(a.getEl().dom);a.helpPanel=Ext.create("Ext.panel.Panel",{id:"toolbar-helppanel",floating:!0,width:200,height:180,
html:"Help",renderTo:document.body});MessageHub.subscribe(Message.HeaderToolbar.FocusSearchBox,function(){c.addClass("x-over")});$("input",c).on("blur",function(){c.removeClass("x-over");a.helpPanel.hide()});c.on("mouseleave",function(){a.helpPanel.hide()});$(a.getEl().dom).append(a.helpPanel.getEl().dom);a.helpPanel.hide()}},getNeedle:function(){return this.getComponent("search-cont").getValue()}});Ext.define("Forte.Widgets.EditorShortcuts",{extend:"Cell.window.DarkWindow",alias:"widget.widgets.editorshortcuts",
title:Forte.Resources.Text.WIDGETS_SHORTCUTS_TITLE,width:660,preloadCounter:0,preloadNum:0,waitHandler:null,cls:"widgets-editorshortcuts",autoShow:!1,keys:[{win:'<i class="sc">Ctrl</i>+<i class="sc">Z</i>',mac:'<i class="sc">Command</i>+<i class="sc">Z</i>',name:Forte.Resources.Text.SHORTCUTS_UNDO},{win:'<i class="sc">Ctrl</i>+<i class="sc">Shift</i>+<i class="sc">Z</i>',mac:'<i class="sc">Command</i>+<i class="sc">Shift</i>+<i class="sc">Z</i>',name:Forte.Resources.Text.SHORTCUTS_REDO},{win:'<i class="sc">Ctrl</i>+<i class="sc">K</i>',
mac:'<i class="sc">Command</i>+<i class="sc">K</i>',name:Forte.Resources.Text.SHORTCUTS_COMMENTOUT},{win:'<i class="sc">Ctrl</i>+<i class="sc">U</i>',mac:'<i class="sc">Command</i>+<i class="sc">U</i>',name:Forte.Resources.Text.SHORTCUTS_COMMENTIN},{win:'<i class="sc">Ctrl</i>+<i class="sc">S</i>',mac:'<i class="sc">Command</i>+<i class="sc">S</i>',name:Forte.Resources.Text.SHORTCUTS_SAVE},{win:'<i class="sc">Ctrl</i>+<i class="sc">D</i>',mac:'<i class="sc">Command</i>+<i class="sc">D</i>',name:Forte.Resources.Text.SHORTCUTS_DELETELINE},
{win:'<i class="sc">Ctrl</i>+<i class="sc">I</i>',mac:'<i class="sc">Command</i>+<i class="sc">I</i>',name:Forte.Resources.Text.SHORTCUTS_FORMAT_TEXT},{win:'<i class="sc">Ctrl</i>+<i class="sc">L</i>',mac:'<i class="sc">Command</i>+<i class="sc">L</i>',name:Forte.Resources.Text.SHORTCUTS_GOLINE},{win:'<i class="sc">Ctrl</i>+<i class="sc">,</i>',mac:'<i class="sc">Command</i>+<i class="sc">,</i>',name:Forte.Resources.Text.SHORTCUTS_FONTSIZESMALLER},{win:'<i class="sc">Ctrl</i>+<i class="sc">.</i>',
mac:'<i class="sc">Command</i>+<i class="sc">.</i>',name:Forte.Resources.Text.SHORTCUTS_FONTSIZEBIGGER},{win:'<i class="sc">Ctrl</i>+<i class="sc">F</i>',mac:'<i class="sc">Command</i>+<i class="sc">F</i>',name:Forte.Resources.Text.SHORTCUTS_SEARCH},{win:'<i class="sc">Enter</i>',mac:'<i class="sc">Enter</i>',name:Forte.Resources.Text.SHORTCUTS_SEARCHNEXT},{win:'<i class="sc">Shift</i>+<i class="sc">Enter</i>',mac:'<i class="sc">Shift</i>+<i class="sc">Enter</i>',name:Forte.Resources.Text.SHORTCUTS_SEARCHPREV}],
initComponent:function(){var a=this,c=detectWinMac(),b="<table>",d=[];if("other"!=c){var e="/img/new_ide/shortcuts/ico_sc_a.png /img/new_ide/shortcuts/ico_sc_alt.png /img/new_ide/shortcuts/ico_sc_arrow_up.png /img/new_ide/shortcuts/ico_sc_arrow_down.png /img/new_ide/shortcuts/ico_sc_arrow_left.png /img/new_ide/shortcuts/ico_sc_arrow_right.png /img/new_ide/shortcuts/ico_sc_b.png /img/new_ide/shortcuts/ico_sc_command.png /img/new_ide/shortcuts/ico_sc_c.png /img/new_ide/shortcuts/ico_sc_ctrl.png /img/new_ide/shortcuts/ico_sc_down.png /img/new_ide/shortcuts/ico_sc_d.png /img/new_ide/shortcuts/ico_sc_enter.png /img/new_ide/shortcuts/ico_sc_e.png /img/new_ide/shortcuts/ico_sc_f.png /img/new_ide/shortcuts/ico_sc_g.png /img/new_ide/shortcuts/ico_sc_h.png /img/new_ide/shortcuts/ico_sc_i.png /img/new_ide/shortcuts/ico_sc_j.png /img/new_ide/shortcuts/ico_sc_k.png /img/new_ide/shortcuts/ico_sc_left.png /img/new_ide/shortcuts/ico_sc_l.png /img/new_ide/shortcuts/ico_sc_m.png /img/new_ide/shortcuts/ico_sc_n.png /img/new_ide/shortcuts/ico_sc_o.png /img/new_ide/shortcuts/ico_sc_option.png /img/new_ide/shortcuts/ico_sc_p.png /img/new_ide/shortcuts/ico_sc_q.png /img/new_ide/shortcuts/ico_sc_right.png /img/new_ide/shortcuts/ico_sc_r.png /img/new_ide/shortcuts/ico_sc_shift.png /img/new_ide/shortcuts/ico_sc_space.png /img/new_ide/shortcuts/ico_sc_s.png /img/new_ide/shortcuts/ico_sc_tab.png /img/new_ide/shortcuts/ico_sc_t.png /img/new_ide/shortcuts/ico_sc_tri_down.png /img/new_ide/shortcuts/ico_sc_tri_left.png /img/new_ide/shortcuts/ico_sc_tri_right.png /img/new_ide/shortcuts/ico_sc_tri_up.png /img/new_ide/shortcuts/ico_sc_u.png /img/new_ide/shortcuts/ico_sc_up.png /img/new_ide/shortcuts/ico_sc_u.png /img/new_ide/shortcuts/ico_sc_v.png /img/new_ide/shortcuts/ico_sc_w.png /img/new_ide/shortcuts/ico_sc_x.png /img/new_ide/shortcuts/ico_sc_y.png /img/new_ide/shortcuts/ico_sc_z.png".split(" ");
a.preloadNum=e.length;for(var f=0;f<e.length;f++)d.push(new Image),d[f].src=e[f],d[f].onload=function(){a.preloadCounter++};for(d=0;d<this.keys.length;d++)(d+1)%2&&(b+="<tr>"),b+="<th>"+this.keys[d][c]+"</th><td> : "+this.keys[d].name+"</td>",!(d+1)%2&&(b+="</tr>");b=b+"</table>"+("<p class='widgets-editorshortcuts-docs'><a href='"+Forte.Resources.DocumentURL.SHORTCUTS+"' target='_blank'>"+Forte.Resources.Text.SHORTCUTS_ALL+"</a></p>");Ext.apply(this,{html:b});a.wait(a);this.callParent()}},wait:function(a){a.preloadCounter>=
a.preloadNum?(a.waitHandler&&clearInterval(a.waitHandler),a.show()):a.waitHandler||(a.waitHandler=setInterval(this.wait,200,a))}});Ext.define("Forte.Widgets.AudioPreview",{extend:"Cell.window.DarkWindow",alias:"widget.widgets.audiopreview",cls:"cell-audiopreview",layout:"fit",width:300,height:110,resizable:!1,audioPanel:null,infoPanel:null,filepath:null,extname:null,initComponent:function(){var a=this;a.extname=getExtName(a.filepath);a.loadmask=new Ext.LoadMask(a,{msg:'<img src="/img/loading-icon.gif" /><br />Loading...'});
a.audioPanel=Ext.create("Ext.Container",{cls:"image-body"});Ext.apply(this,{id:"audio:"+a.filepath,title:Ext.htmlEncode(a.title),listeners:{afterrender:function(){a.loadAudio(a.filepath,a.title)}},items:[a.audioPanel],bbar:{height:30,items:[{xtype:"component",cls:"imgprop-width-wrap",html:'<span class="imgprop-width"></span>'}]}});this.callParent()},loadAudio:function(a,c){var b=this;getFileName(a);var d=a+"?api_token="+Forte.API.apiToken;b.loadmask.show();var e=new Audio;e.controls=!0;e.src=d;b.audioPanel.getEl().dom.appendChild(e);
b.setTitle(c);(d=b.dd.comp.ghostPanel)&&d.setTitle(c);b.setIconCls("ide-editor-panel-image-icon");b.loadmask.hide();e.addEventListener("loadedmetadata",function(){$(".imgprop-width",b.getEl().dom).text(c+" ("+Math.floor(10*e.duration)/10+"sec)")})},fail:function(){Cell.LightMessageBox.show({title:Forte.Resources.Text.ERROR_GENERAL_MONACA_TITLE,msg:Forte.Resources.Text.ERROR_OPEN_FILE_ERROR,buttons:Cell.LightMessageBox.OK});this.close()}});Ext.define("Forte.Widgets.PicturePreview",{extend:"Cell.window.DarkWindow",
alias:"widget.widgets.picturepreview",cls:"cell-picturepreview",layout:"fit",width:300,height:400,infoPanel:null,filepath:null,extname:null,picPanel:null,initComponent:function(){var a=this;a.extname=getExtName(a.filepath);a.loadmask=new Ext.LoadMask(a,{msg:'<img src="/img/loading-icon.gif" /><br />Loading...'});a.picPanel=Ext.create("Ext.Component",{cls:"image-body",listeners:{click:function(c){var b=getFileName(a.filepath),c=c.browserEvent.layerX<0.5*this.getWidth()?-1:1,d=Forte.API.getFilesByDirAndType(a.filepath,
"img");if(!d)return!1;for(var e=0;e<d.length;e++)if(d[e].name===b){e=e+c>=d.length?0:0>e+c?d.length-1:e+c;a.filepath=getFileDirectory(a.filepath)+d[e].name;a.title=a.filepath.substr(a.filepath.indexOf("/www/")+5);a.loadImage(a.filepath,a.title);break}},element:"el"}});Ext.apply(this,{id:"picture:"+a.filepath,title:Ext.htmlEncode(a.title),listeners:{afterrender:function(){var c=a.body.dom.clientHeight-20;$(".image-body",a.getEl().dom).css("line-height",c+"px");a.loadImage(a.filepath,a.title)},resize:function(){var c=
a.body.dom.clientHeight-20;$(".image-body",a.getEl().dom).css("line-height",c+"px")}},items:[a.picPanel],bbar:{height:30,items:[{xtype:"component",cls:"imgprop-width-wrap",html:'<span class="imgprop-width"></span>'}]}});this.callParent()},loadImage:function(a,c){var b=this;getFileName(a);var d=a+"?api_token="+Forte.API.apiToken;b.loadmask.show();var e=new Image;e.src=d;e.onload=function(){b.picPanel.update('<img src="'+d+'" />&nbsp;');$(".image-body img",b.getEl().dom).css("opacity",0).animate({opacity:1});
b.imgProp={width:e.width,height:e.height};b.setTitle(c);var a=b.dd.comp.ghostPanel;a&&a.setTitle(c);b.setIconCls("ide-editor-panel-image-icon");b.loadmask.hide();$(".imgprop-width",b.getEl().dom).text(c+" ("+b.imgProp.width+"x"+b.imgProp.height+")")};e.onerror=function(){b.fail()}},fail:function(){Cell.LightMessageBox.show({title:Forte.Resources.Text.ERROR_GENERAL_MONACA_TITLE,msg:Forte.Resources.Text.ERROR_OPEN_FILE_ERROR,buttons:Cell.LightMessageBox.OK});this.close()}});Ext.define("Forte.Widgets.RunToast",
{extend:"Cell.window.LightMessageBox",alias:"widget.widgets.runtoast",cls:"cell-runtoast",height:120,minHeight:120,width:450,minWidth:450,singleton:!0,showWindow:function(){return this.show({title:Forte.Resources.Text.HEADER_BUTTON_RUN,msg:Forte.Resources.Text.DEBUGGER_RUNTOAST_RUNNING,modal:!1})}});Ext.define("Forte.Widgets.RunFailDialog",{extend:"Cell.window.LightMessageBox",cls:"cell-runfailtoast",modal:!1,minWidth:540,maxWidth:540,singleton:!0,buttonText:{yes:Forte.Resources.Text.HEADER_BUTTON_DEBUGGER_NOT_FOUND_BUTTON_RERUN,
no:Forte.Resources.Text.HEADER_BUTTON_DEBUGGER_NOT_FOUND_BUTTON_GO},btnCallback:function(a){if("yes"===a.itemId){var c=Forte.Widgets.RunToast.showWindow();Forte.API.sendProjectRun().done(function(a){c.close();if(a&&a.result)if(0===a.result.clientsCount)Forte.Widgets.RunFailDialog.showWindow();else{var a=a.result.clients,d="",e;for(e in a){d=a[e].clientName;break}var f=Forte.Widgets.RunSuccessToast.showWindow({clientName:d});setTimeout(function(){f.close()},1400)}})}else Forte.Debugger.DebuggerDialog.showWindow();
this.close()},showWindow:function(){return this.confirm({title:Forte.Resources.Text.HEADER_BUTTON_DEBUGGER_NOT_FOUND_TITLE,msg:Forte.Resources.Text.HEADER_BUTTON_DEBUGGER_NOT_FOUND,modal:!1,buttons:6,buttonUi:["blue","light"],noEscape:!0,scope:this})}});Ext.define("Forte.Widgets.RunSuccessToast",{extend:"Cell.window.LightMessageBox",alias:"widget.widgets.runsuccesstoast",cls:"cell-runtoast success",height:140,minHeight:140,width:460,minWidth:460,singleton:!0,showWindow:function(a){var c=Forte.Resources.Text.DEBUGGER_RUNTOAST_SUCCESS;
a&&a.clientName&&(c+='<p class="clients">'+a.clientName+"</p>");return this.show({title:Forte.Resources.Text.HEADER_BUTTON_RUN,msg:c,noEscape:!0,modal:!1})}});Ext.define("Forte.Widgets.BuildLog",{extend:"Cell.window.LightWindow",alias:"widget.widgets.buildlog",cls:"cell-buildlog",title:Forte.Resources.Text.BUILDLOG_HEADER_TITLE,height:250,minHeight:250,width:500,minWidth:500,items:[{xtype:"textarea",itemId:"log",width:420,height:150,grow:!1}],setLog:function(a){this.getComponent("log").setValue(a)}})})();(function(){Ext.define("Cell.window.RestrictionDialog",{extend:"Cell.window.LightWindow",cls:"cell-window-restriction",closable:!1,closeAction:"destroy",modal:!0,width:400,height:220,initComponent:function(){var a=this;Ext.apply(a,{items:[{xtype:"component",style:"margin-top: 30px;",id:"restriction-dialog-message"}],bbar:[{xtype:"component",flex:1},{xtype:"cell.button",ui:"light",width:120,text:Forte.Resources.Text.GENERAL_CANCEL,handler:function(){a.close();Forte.API.sendEventToGA("upgrade","cancel",
"build")}},{xtype:"cell.button",ui:"blue",width:120,text:Forte.Resources.Text.GENERAL_UPGRADE,handler:function(){window.open(Forte.API.websiteHost+"/plan/change");a.close();Forte.API.sendEventToGA("upgrade","execute","build")}},{xtype:"component",flex:1}]});a.callParent()},showWindow:function(a){var c=Forte.Resources.Text.ERROR_PLAN_RESTRICTED_TITLE,a=Forte.Resources.Text["ERROR_PLAN_RESTRICTED_"+a],c=c.replace("%PLAN%",Forte.API.planName),a=a.replace("%PLAN%",Forte.API.planName);this.setTitle(c);
Ext.getCmp("restriction-dialog-message").html=a;this.show();Forte.API.sendEventToGA("upgrade","show","build")}});Ext.define("Cell.window.StorageLimitDialog",{extend:"Cell.window.LightWindow",cls:"cell-window-restriction",closable:!1,closeAction:"destroy",modal:!0,width:400,height:220,onMyCloseBtn:function(){},initComponent:function(){var a=this;Ext.apply(a,{items:[{xtype:"component",style:"margin-top: 30px;",id:"storage-limit-dialog-message"}],bbar:[{xtype:"component",flex:1},{xtype:"cell.button",
ui:"light",width:120,text:Forte.Resources.Text.GENERAL_CLOSE,handler:function(){a.onMyCloseBtn();a.close()}},{xtype:"cell.button",ui:"blue",width:120,text:Forte.Resources.Text.GENERAL_UPGRADE,handler:function(){window.open(Forte.API.websiteHost+"/plan/change");a.close()}},{xtype:"component",flex:1}]});a.callParent()},showWindow:function(a){var c=Forte.Resources.Text.ERROR_PLAN_RESTRICTED_TITLE,b=Forte.Resources.Text.ERROR_STORAGE_EXCEEDED;this.onMyCloseBtn=a;this.setTitle(c);Ext.getCmp("storage-limit-dialog-message").html=
b;this.show()}})})();
